(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{531:function(t,n,a){t.exports=a.p+"assets/img/lua_math_1.222fe6dd.png"},600:function(t,n,a){"use strict";a.r(n);var s=a(6),e=Object(s.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Lua 数学库由一组标准的数学函数构成。数学库的引入丰富了 Lua 编程语言的功能，同时也方便了程序的编写。常用数学函数见下表：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(531),alt:""}})]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("print(math.pi)           --\x3eoutput  3.1415926535898\nprint(math.rad(180))     --\x3eoutput  3.1415926535898\nprint(math.deg(math.pi)) --\x3eoutput  180\n\nprint(math.sin(1))       --\x3eoutput  0.8414709848079\nprint(math.cos(math.pi)) --\x3eoutput  -1\nprint(math.tan(math.pi / 4))  --\x3eoutput  1\n\nprint(math.atan(1))      --\x3eoutput  0.78539816339745\nprint(math.asin(0))      --\x3eoutput  0\n\nprint(math.max(-1, 2, 0, 3.6, 9.1))     --\x3eoutput  9.1\nprint(math.min(-1, 2, 0, 3.6, 9.1))     --\x3eoutput  -1\n\nprint(math.fmod(10.1, 3))   --\x3eoutput  1.1\nprint(math.sqrt(360))      --\x3eoutput  18.97366596101\n\nprint(math.exp(1))         --\x3eoutput  2.718281828459\nprint(math.log(10))        --\x3eoutput  2.302585092994\nprint(math.log10(10))      --\x3eoutput  1\n\nprint(math.floor(3.1415))  --\x3eoutput  3\nprint(math.ceil(7.998))    --\x3eoutput  8\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("p",[t._v("另外使用 math.random() 函数获得伪随机数时，如果不使用 math.randomseed() 设置伪随机数生成种子或者设置相同的伪随机数生成种子，那么得得到的伪随机数序列是一样的。\n示例代码：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("math.randomseed (100) --把种子设置为100\nprint(math.random())         --\x3eoutput  0.0012512588885159\nprint(math.random(100))      --\x3eoutput  57\nprint(math.random(100, 360)) --\x3eoutput  150\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("稍等片刻，再次运行上面的代码。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("math.randomseed (100) --把种子设置为100\nprint(math.random())         --\x3eoutput  0.0012512588885159\nprint(math.random(100))      --\x3eoutput  57\nprint(math.random(100, 360)) --\x3eoutput  150\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("两次运行的结果一样。为了避免每次程序启动时得到的都是相同的伪随机数序列，通常是使用当前时间作为种子。\n修改上例中的代码：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("math.randomseed (os.time())   --把100换成os.time()\nprint(math.random())          --\x3eoutput 0.88369396038697\nprint(math.random(100))       --\x3eoutput 66\nprint(math.random(100, 360))  --\x3eoutput 228\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("稍等片刻，再次运行上面的代码。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("math.randomseed (os.time())   --把100换成os.time()\nprint(math.random())          --\x3eoutput 0.88946195867794\nprint(math.random(100))       --\x3eoutput 68\nprint(math.random(100, 360))  --\x3eoutput 129\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("原文")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://moonbingbing.gitbooks.io/openresty-best-practices/content/lua/math_library.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://moonbingbing.gitbooks.io/openresty-best-practices/content/lua/math_library.html"),s("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=e.exports}}]);