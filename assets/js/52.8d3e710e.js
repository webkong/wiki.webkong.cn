(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{596:function(n,e,s){"use strict";s.r(e);var a=s(6),t=Object(a.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("blockquote",[s("p",[n._v("mark and learn")])]),n._v(" "),s("p",[n._v("在搭建好了 nginx 之后，一般会隐藏版本号，避免不必要的麻烦，")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("curl -I www.nginx.org\n\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("HTTP/1.1 301 Moved Permanently\nServer: nginx/1.11.7\nDate: Tue, 11 Apr 2017 07:30:05 GMT\nContent-Type: text/html\nContent-Length: 185\nConnection: keep-alive\nKeep-Alive: timeout=15\nLocation: http://nginx.org/\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("p",[n._v("如上，就会看到 nginx 的版本是 1.11.7，之前爆出的 Nginx 版本漏洞，这样暴露出来的版本就容易变成被利用的信息，从安全角度来讲，隐藏会相对好一些。")]),n._v(" "),s("p",[s("strong",[n._v("1.进入 nginx 配置文件")])]),n._v(" "),s("p",[n._v("在 http{}里面加上"),s("code",[n._v("server_tokens off;")])]),n._v(" "),s("p",[s("strong",[n._v("2.修改 php-fpm 配置文件，根据自己的配置文件名修改(fastcgi.conf...)")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("找到：\nfastcgi_param SERVER_SOFTWARE nginx/$nginx_version;\n改为：\nfastcgi_param SERVER_SOFTWARE nginx;\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("p",[s("strong",[n._v("3.重新加载 nginx 配置")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("nginx -s reload\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("blockquote",[s("p",[n._v("Other")])]),n._v(" "),s("p",[n._v("如果要隐藏 php 的版本，“X-Powered-By: PHP/5.2.13” 这个信息\n编辑 "),s("code",[n._v("php.ini")]),n._v("配置文件，修改或者加入 expose_php = Off\n再重启 php-fpm")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("/etc/init.d/php-fpm restart\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);