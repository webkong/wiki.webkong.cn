(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{595:function(s,e,a){"use strict";a.r(e);var n=a(6),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("记录一下 git 的 ssh 配置,备忘。")])]),s._v(" "),a("p",[s._v("1.配置用户和邮箱")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('$ git config --global user.name "webkong"\n$ git config --global user.email "webkong@webkong.cn"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果在多用户情况下，一般设置本地用户")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('//cd to repo path\n$ git config --local user.name "webkong"\n$ git config --local user.email "webkong@webkong.cn"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),s._v(" "),a("p",[s._v("2.生成密钥")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('$ ssh-keygen -t rsa -C "webkong@webkong.cn"  [-f id_rsa_github]\n\n// -f 后面带生成的文件名， 在配置多git账号的时候使用,以区分不同的密钥文件\n\n然后连续敲3个回车，确认默认设置。\n\n就会在 ~/ 用户目录下生成.ssh文件包含 id_rsa 和 id_rsa.pub两个文件。\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("id_rsa.pub 就是公钥文件，将内容复制出来，添加到私人 Git 服务器或者是 github 上。")]),s._v(" "),a("p",[s._v("可以使用 ssh-agent 密钥管理器，将私钥交给 ssh-agent 来管理和使用")]),s._v(" "),a("blockquote",[a("p",[s._v("如果 windows 系统上传完还是不能使用，就要将 ssh 加入到 agent 里面。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ssh-agent -s\nssh-add ~/.ssh/id_rsa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("如果 执行 ssh-add 时添加私钥到 git 中报错 Could not open a connection to your authentication agent")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("eval `ssh-agent` //执行启动，再执行add操作\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ssh-add -l  //查看\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("若途中报错 “Permissions ???? for '/Users/xxx/.ssh/rsa' are too open”的问题，则是该私钥文件权限过高，需要设置其权限")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chmod 600 ~/.ssh/rsa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3.多 git 账号配置")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("~/.ssh")]),s._v("目录新建文件 "),a("code",[s._v("config")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Host github.com //配置host地址\n    HostName github.com\n    User webkong //用户名\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/id_rsa_github //公钥地址\n\nHost gitlab.webkong.org\n    HostName gitlab.webkong.org\n    User wangsw\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/id_rsa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);